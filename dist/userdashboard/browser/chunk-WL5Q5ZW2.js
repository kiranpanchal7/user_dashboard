import{Ca as f,Da as u,Ga as l,Ha as t,Ia as F,La as v,Pa as r,ba as S,e as E,gb as h,hb as b,ib as s,jb as A,kb as _,mb as y,na as m,nb as U,ob as g,pb as N,qa as c,qb as w,rb as q,sb as V,ua as C,ub as M,xa as a}from"./chunk-WMYTX57H.js";function x(o,i){o&1&&(l(0,"p",9)(1,"sup"),r(2,"*"),t(),r(3,"Required"),t())}function D(o,i){o&1&&(l(0,"p",9)(1,"sup"),r(2,"*"),t(),r(3,"Required"),t())}function R(o,i){o&1&&(l(0,"p",9)(1,"sup"),r(2,"*"),t(),r(3,"Invalid Email Address"),t())}function k(o,i){o&1&&(l(0,"p",9)(1,"sup"),r(2,"*"),t(),r(3,"Required"),t())}var T=class o{constructor(i,n){this.fb=i;this.userService=n;this.userForm=this.fb.group({name:["",s.required],email:["",[s.required,s.email]],role:["",s.required]})}notifyClose=new S;userForm=[];submitUserFunc(){return E(this,null,function*(){if(console.log("user=>",this.userForm),!this.userForm.valid){alert("Something Went Wrong !!");return}yield this.commonValidation("name","User Already Exist"),yield this.commonValidation("email","Email Address Already Exist"),this.userService.userlist.next([...this.userService.userlist.value,this.userForm.value]),this.closeAddUserModal()})}commonValidation(i,n){return new Promise((e,d)=>{try{if(this.userService.userlist.value.some(p=>p[i].toLocaleLowerCase()==this.userForm.value[i].toLocaleLowerCase())){alert(n);return}e(!0)}catch(p){d(p)}})}closeAddUserModal(){this.notifyClose.emit(!1),this.userForm.reset({name:"",email:"",role:""})}static \u0275fac=function(n){return new(n||o)(c(V),c(h))};static \u0275cmp=C({type:o,selectors:[["app-add-user"]],outputs:{notifyClose:"notifyClose"},decls:41,vars:5,consts:[[1,"customCenterModal"],[1,"modalContainer"],[1,"d-flex","justify-content-between","border-bottom","p-2"],[1,"fw-bold","fs-4","mb-0"],[1,"fa-solid","fa-circle-xmark","fs-2","themeColorText","c-pointer",3,"click"],[1,"p-3"],[3,"submit","formGroup"],[1,"form-group","mb-3"],[1,"fw-bold"],[1,"text-danger"],["type","text","formControlName","name","placeholder","Enter Name...",1,"form-control"],["type","email","formControlName","email","placeholder","Enter Email Address...",1,"form-control"],["formControlName","role",1,"form-select"],["value",""],["value","Admin"],["value","Editor"],["value","Viewer"],[1,"text-center"],[1,"btn","themeButton",3,"disabled"]],template:function(n,e){n&1&&(l(0,"div",0)(1,"div",1)(2,"div",2)(3,"p",3),r(4,"Add User"),t(),l(5,"i",4),v("click",function(){return e.closeAddUserModal()}),t()(),l(6,"div",5)(7,"form",6),v("submit",function(){return e.submitUserFunc()}),l(8,"div",7)(9,"label",8),r(10,"Name"),l(11,"sup",9),r(12,"*"),t()(),F(13,"input",10),a(14,x,4,0,"p",9),t(),l(15,"div",7)(16,"label",8),r(17,"Email Address"),l(18,"sup",9),r(19,"*"),t()(),F(20,"input",11),a(21,D,4,0,"p",9)(22,R,4,0,"p",9),t(),l(23,"div",7)(24,"label",8),r(25,"Role"),l(26,"sup",9),r(27,"*"),t()(),l(28,"select",12)(29,"option",13),r(30,"--Select--"),t(),l(31,"option",14),r(32,"Admin"),t(),l(33,"option",15),r(34,"Editor"),t(),l(35,"option",16),r(36,"Viewer"),t()(),a(37,k,4,0,"p",9),t(),l(38,"div",17)(39,"button",18),r(40,"Save"),t()()()()()()),n&2&&(m(7),f("formGroup",e.userForm),m(7),u(!(e.userForm==null||e.userForm.controls.name==null||e.userForm.controls.name.errors==null)&&e.userForm.controls.name.errors.required&&(!(e.userForm==null||e.userForm.controls.name==null)&&e.userForm.controls.name.touched)?14:-1),m(7),u(!(e.userForm==null||e.userForm.controls.email==null||e.userForm.controls.email.errors==null)&&e.userForm.controls.email.errors.required&&(!(e.userForm==null||e.userForm.controls.email==null)&&e.userForm.controls.email.touched)?21:!(e.userForm==null||e.userForm.controls.email==null||e.userForm.controls.email.errors==null)&&e.userForm.controls.email.errors.email?22:-1),m(16),u(!(e.userForm==null||e.userForm.controls.role==null||e.userForm.controls.role.errors==null)&&e.userForm.controls.role.errors.required&&(!(e.userForm==null||e.userForm.controls.role==null)&&e.userForm.controls.role.touched)?37:-1),m(2),f("disabled",!e.userForm.valid))},dependencies:[M,y,w,q,b,N,A,_,U,g],encapsulation:2})};export{T as AddUserComponent};
